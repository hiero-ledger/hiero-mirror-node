{
  "description": "Contract state api call for a contract with timestamp and slot params",
  "setup": {
    "entities": [
      {
        "num": 5001
      }
    ],
    "contractStateChanges": [
      {
        "consensus_timestamp": "1677575107848140633",
        "contract_id": "5001",
        "slot": "",
        "value_read": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "value_written": "0x0000000000000000000000000000000000000000000000000000000000000001"
      },
      {
        "consensus_timestamp": "1677575107848140633",
        "contract_id": "5001",
        "slot": "02",
        "value_read": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "value_written": "0x0000000000000000000000000000000000000000000000000000000000000002"
      },
      {
        "consensus_timestamp": "1677575107848140633",
        "contract_id": "5001",
        "slot": "03",
        "value_read": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "value_written": "0x0000000000000000000000000000000000000000000000000000000000000001"
      },
      {
        "consensus_timestamp": "1677575107848140633",
        "contract_id": "5001",
        "slot": "04",
        "value_read": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "value_written": "0x0000000000000000000000000000000000000000000000000000000000000004"
      },
      {
        "consensus_timestamp": "1677575107848140633",
        "contract_id": "5001",
        "slot": "05",
        "value_read": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "value_written": "0x0000000000000000000000000000000000000000000000000000000000000005"
      },
      {
        "consensus_timestamp": "1677575107848140640",
        "contract_id": "5001",
        "slot": "03",
        "value_read": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "value_written": "0x0000000000000000000000000000000000000000000000000000000000000003"
      },
      {
        "consensus_timestamp": "1677575107848140649",
        "contract_id": "5001",
        "slot": "0x28d21a315c10fe05bed774f5340a06a5ebe2f86f0724c800c017e137a75f0b",
        "value_read": "0x0000000000000000000000000000000000000000000000000000000000000000",
        "value_written": "0x0000000000000000000000000000000000000000000000000000000000000006"
      }
    ]
  },
  "tests": [
    {
      "urls": [
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140649&slot=0x28d21a315c10fe05bed774f5340a06a5ebe2f86f0724c800c017e137a75f0b",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140649&slot=28d21a315c10fe05bed774f5340a06a5ebe2f86f0724c800c017e137a75f0b",
        "/api/v1/contracts/5001/state?slot=28d21a315c10fe05bed774f5340a06a5ebe2f86f0724c800c017e137a75f0b&timestamp=1677575107.848140649",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140649&slot=0x028d21a315c10fe05bed774f5340a06a5ebe2f86f0724c800c017e137a75f0b",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140649&slot=0x0028d21a315c10fe05bed774f5340a06a5ebe2f86f0724c800c017e137a75f0b"
      ],
      "responseStatus": 200,
      "responseJson": {
        "state": [
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "timestamp": "1677575107.848140649",
            "slot": "0x0028d21a315c10fe05bed774f5340a06a5ebe2f86f0724c800c017e137a75f0b",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000006"
          }
        ],
        "links": {
          "next": null
        }
      }
    },
    {
      "urls": [
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=3",
        "/api/v1/contracts/5001/state?slot=3&timestamp=1677575107.848140636",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=0x3",
        "/api/v1/contracts/5001/state?slot=0x3&timestamp=1677575107.848140636",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=03",
        "/api/v1/contracts/5001/state?slot=03&timestamp=1677575107.848140636",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=0x03",
        "/api/v1/contracts/5001/state?slot=0x03&timestamp=1677575107.848140636",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=003",
        "/api/v1/contracts/5001/state?slot=003&timestamp=1677575107.848140636",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=0x003",
        "/api/v1/contracts/5001/state?slot=0x003&timestamp=1677575107.848140636",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=0000000000000000000000000000000000000000000000000000000000000003",
        "/api/v1/contracts/5001/state?slot=0000000000000000000000000000000000000000000000000000000000000003&timestamp=1677575107.848140636",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=0x0000000000000000000000000000000000000000000000000000000000000003",
        "/api/v1/contracts/5001/state?slot=0x0000000000000000000000000000000000000000000000000000000000000003&timestamp=1677575107.848140636"
      ],
      "responseStatus": 200,
      "responseJson": {
        "state": [
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "timestamp": "1677575107.848140633",
            "slot": "0x0000000000000000000000000000000000000000000000000000000000000003",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000001"
          }
        ],
        "links": {
          "next": null
        }
      }
    },
    {
      "urls": [
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=gte:3",
        "/api/v1/contracts/5001/state?slot=gte:3&timestamp=1677575107.848140636",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=gt:2",
        "/api/v1/contracts/5001/state?slot=gt:2&timestamp=1677575107.848140636"
      ],
      "responseStatus": 200,
      "responseJson": {
        "state": [
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "timestamp": "1677575107.848140633",
            "slot": "0x0000000000000000000000000000000000000000000000000000000000000003",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000001"
          },
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "timestamp": "1677575107.848140633",
            "slot": "0x0000000000000000000000000000000000000000000000000000000000000004",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000004"
          },
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "timestamp": "1677575107.848140633",
            "slot": "0x0000000000000000000000000000000000000000000000000000000000000005",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000005"
          }
        ],
        "links": {
          "next": null
        }
      }
    },
    {
      "urls": [
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=lt:4",
        "/api/v1/contracts/5001/state?slot=lt:4&timestamp=1677575107.848140636",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=lte:3",
        "/api/v1/contracts/5001/state?slot=lte:3&timestamp=1677575107.848140636"
      ],
      "responseStatus": 200,
      "responseJson": {
        "state": [
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "slot": "0x0000000000000000000000000000000000000000000000000000000000000000",
            "timestamp": "1677575107.848140633",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000001"
          },
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "slot": "0x0000000000000000000000000000000000000000000000000000000000000002",
            "timestamp": "1677575107.848140633",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000002"
          },
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "timestamp": "1677575107.848140633",
            "slot": "0x0000000000000000000000000000000000000000000000000000000000000003",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000001"
          }
        ],
        "links": {
          "next": null
        }
      }
    },
    {
      "urls": [
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=lt:4&slot=gt:1",
        "/api/v1/contracts/5001/state?slot=lt:4&timestamp=1677575107.848140636&slot=gt:1",
        "/api/v1/contracts/5001/state?slot=lt:4&slot=gt:1&timestamp=1677575107.848140636",
        "/api/v1/contracts/5001/state?timestamp=1677575107.848140636&slot=lte:3&slot=gte:2",
        "/api/v1/contracts/5001/state?slot=lte:3&timestamp=1677575107.848140636&slot=gte:2",
        "/api/v1/contracts/5001/state?slot=lte:3&slot=gte:2&timestamp=1677575107.848140636"
      ],
      "responseStatus": 200,
      "responseJson": {
        "state": [
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "slot": "0x0000000000000000000000000000000000000000000000000000000000000002",
            "timestamp": "1677575107.848140633",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000002"
          },
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "timestamp": "1677575107.848140633",
            "slot": "0x0000000000000000000000000000000000000000000000000000000000000003",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000001"
          }
        ],
        "links": {
          "next": null
        }
      }
    },
    {
      "urls": [
        "/api/v1/contracts/5001/state?timestamp=gte:1677575107.848140636&slot=lt:4&slot=gt:1"
      ],
      "responseStatus": 200,
      "responseJson": {
        "state": [
          {
            "address": "0x0000000000000000000000000000000000001389",
            "contract_id": "0.0.5001",
            "timestamp": "1677575107.848140640",
            "slot": "0x0000000000000000000000000000000000000000000000000000000000000003",
            "value": "0x0000000000000000000000000000000000000000000000000000000000000003"
          }
        ],
        "links": {
          "next": null
        }
      }
    }
  ]
}
